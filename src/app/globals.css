@import "tailwindcss";

/*--------------------------------------
  Clean Professional Design System
---------------------------------------*/
:root {
    /* Simplified Color Palette */
    --background:      #020617;   /* slate-950 - deep, professional */
    --surface:         #0f172a;   /* slate-900 - cards, panels */
    --surface-hover:   #1e293b;   /* slate-800 - hover states */
    --border:          #334155;   /* slate-700 - clean borders */
    --text-primary:    #f8fafc;   /* slate-50 - high contrast text */
    --text-secondary:  #cbd5e1;   /* slate-300 - secondary text */
    --text-muted:      #94a3b8;   /* slate-400 - muted text */
    --accent:          #3b82f6;   /* blue-500 - primary accent */
    --accent-hover:    #2563eb;   /* blue-600 - accent hover */
    --success:         #10b981;   /* emerald-500 - success states */
    --warning:         #f59e0b;   /* amber-500 - warnings */
    --error:           #ef4444;   /* red-500 - errors */

    /* Clean Spacing */
    --radius: 0.5rem;
}

/*--------------------------------------
  Base Styles
---------------------------------------*/
@layer base {
    * {
        @apply border-slate-700;
    }

    body {
        @apply bg-slate-950 text-slate-50 font-sans antialiased;
        font-family: 'Inter', system-ui, sans-serif;
    }

    /* Clean Typography */
    h1, h2, h3, h4, h5, h6 {
        @apply text-slate-50 font-semibold tracking-tight;
    }

    h1 { @apply text-3xl; }
    h2 { @apply text-2xl; }
    h3 { @apply text-xl; }
    h4 { @apply text-lg; }
}

/*--------------------------------------
  Professional Components
---------------------------------------*/
@layer components {
    /* Clean Cards */
    .card-clean {
        @apply bg-slate-900 border border-slate-800 rounded-lg shadow-sm;
    }

    .card-clean:hover {
        @apply border-slate-700 shadow-md;
    }

    /* Clean Buttons */
    .btn-clean {
        @apply px-4 py-2 rounded-lg font-medium transition-colors;
    }

    .btn-primary {
        @apply bg-blue-600 text-white hover:bg-blue-700;
    }

    .btn-secondary {
        @apply bg-slate-800 text-slate-300 hover:bg-slate-700 hover:text-white;
    }

    /* Clean Navigation */
    .nav-clean {
        @apply bg-slate-900/95 border-r border-slate-800;
    }

    /* Clean Metrics */
    .metric-clean {
        @apply bg-slate-900 border border-slate-800 rounded-lg p-6;
    }

    .metric-value {
        @apply text-2xl font-bold text-slate-50;
    }

    .metric-label {
        @apply text-sm text-slate-400 uppercase tracking-wide;
    }

    /* Clean Tables */
    .table-clean {
        @apply bg-slate-900 border border-slate-800 rounded-lg overflow-hidden;
    }

    .table-header {
        @apply bg-slate-800 text-slate-300 font-medium;
    }

    .table-row {
        @apply border-b border-slate-800 hover:bg-slate-800/50;
    }

    /* Clean Forms */
    .input-clean {
        @apply bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-50;
        @apply focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20;
    }

    /* Status Indicators */
    .status-success {
        @apply bg-emerald-100/10 text-emerald-400 border border-emerald-500/20;
    }

    .status-warning {
        @apply bg-amber-100/10 text-amber-400 border border-amber-500/20;
    }

    .status-error {
        @apply bg-red-100/10 text-red-400 border border-red-500/20;
    }
}

/*--------------------------------------
  Clean Animations (CSS only)
---------------------------------------*/
.transition-smooth {
    transition: all 0.2s ease-in-out;
}

.fade-in {
    animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/*--------------------------------------
  Chart Enhancements
---------------------------------------*/
.chart-clean {
    @apply bg-slate-900 border border-slate-800 rounded-lg p-6;
}

.chart-title {
    @apply text-lg font-semibold text-slate-50 mb-2;
}

.chart-subtitle {
    @apply text-sm text-slate-400 mb-4;
}

/*--------------------------------------
  Responsive Design
---------------------------------------*/
@media (max-width: 768px) {
    .card-clean {
        @apply mx-4 rounded-lg;
    }
    
    .metric-clean {
        @apply p-4;
    }
}

/*--------------------------------------
  Select Dropdown Fixes
---------------------------------------*/

/* Fix Select Content visibility */
[data-radix-select-content] {
    background-color: rgb(15 23 42) !important; /* slate-900 */
    border: 1px solid rgb(51 65 85) !important; /* slate-700 */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3) !important;
    backdrop-filter: none !important;
}

/* Fix Select Items */
[data-radix-select-item] {
    color: rgb(248 250 252) !important; /* slate-50 */
    background-color: transparent !important;
}

[data-radix-select-item]:hover,
[data-radix-select-item][data-highlighted] {
    background-color: rgb(30 41 59) !important; /* slate-800 */
    color: rgb(248 250 252) !important;
}

[data-radix-select-item][data-state="checked"] {
    background-color: rgb(59 130 246) !important; /* blue-500 */
    color: white !important;
}

/* Fix Select Trigger */
[data-radix-select-trigger] {
    background-color: rgb(15 23 42) !important; /* slate-900 */
    border: 1px solid rgb(51 65 85) !important; /* slate-700 */
    color: rgb(248 250 252) !important; /* slate-50 */
}

[data-radix-select-trigger]:focus {
    border-color: rgb(59 130 246) !important; /* blue-500 */
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2) !important;
}

/* Fix Select Placeholder */
[data-radix-select-trigger] [data-placeholder] {
    color: rgb(148 163 184) !important; /* slate-400 */
}

/* Fix Dialog backdrop */
[data-radix-dialog-content] {
    background-color: rgb(15 23 42) !important; /* slate-900 */
    border: 1px solid rgb(51 65 85) !important; /* slate-700 */
}

/*--------------------------------------
  Cash Flow Chart Colors
---------------------------------------*/

/* Allow semantic colors for financial charts */
.recharts-area[data-key="income"] {
    fill: url(#incomeGradient) !important;
    stroke: #10b981 !important; /* emerald-500 for income */
}

.recharts-area[data-key="expense"] {
    fill: url(#expenseGradient) !important;
    stroke: #ef4444 !important; /* red-500 for expenses */
}

/* Ensure gradients work properly */
.recharts-surface defs linearGradient[id="incomeGradient"] stop {
    stop-color: #10b981; /* emerald-500 */
}

.recharts-surface defs linearGradient[id="expenseGradient"] stop {
    stop-color: #ef4444; /* red-500 */
}

/* Legend colors for cash flow */
.recharts-legend-item-text[data-value="income"] {
    color: #10b981 !important;
}

.recharts-legend-item-text[data-value="expense"] {
    color: #ef4444 !important;
}

/* Tooltip colors */
.recharts-tooltip-wrapper .recharts-tooltip-item[data-key="income"] {
    color: #10b981 !important;
}

.recharts-tooltip-wrapper .recharts-tooltip-item[data-key="expense"] {
    color: #ef4444 !important;
}

/*--------------------------------------
  Chart Text Color Fixes
---------------------------------------*/

/* Fix all Recharts text colors */
.recharts-cartesian-axis-tick-value,
.recharts-polar-angle-axis-tick-value,
.recharts-polar-radius-axis-tick-value {
    fill: #94a3b8 !important; /* slate-400 - readable on dark */
}

/* Fix legend text */
.recharts-legend-item-text,
.recharts-default-legend .recharts-legend-item-text {
    color: #cbd5e1 !important; /* slate-300 - lighter for better contrast */
    fill: #cbd5e1 !important;
}

/* Fix tooltip background and text */
.recharts-tooltip-wrapper .recharts-default-tooltip {
    background-color: #1e293b !important; /* slate-800 */
    border: 1px solid #475569 !important; /* slate-600 */
    border-radius: 8px !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3) !important;
}

.recharts-tooltip-wrapper .recharts-tooltip-label {
    color: #f8fafc !important; /* slate-50 */
    font-weight: 600 !important;
    margin-bottom: 4px !important;
}

.recharts-tooltip-wrapper .recharts-tooltip-item {
    color: #cbd5e1 !important; /* slate-300 */
}

.recharts-tooltip-wrapper .recharts-tooltip-item-list {
    padding: 0 !important;
}

/* Fix pie chart labels */
.recharts-pie-label-text {
    fill: #f8fafc !important; /* slate-50 */
    font-size: 12px !important;
    font-weight: 500 !important;
}

/* Fix bar chart labels */
.recharts-bar-rectangle {
    cursor: pointer;
}

/* Fix area chart labels */
.recharts-area-curve {
    stroke-width: 2px;
}

/* Fix line chart points and lines */
.recharts-line-curve {
    stroke-width: 2px;
}

.recharts-line-dot {
    stroke-width: 2px;
}

/* Custom tooltip content styling */
.recharts-tooltip-cursor {
    fill: rgba(148, 163, 184, 0.1) !important; /* slate-400 with opacity */
}

/* Fix axis lines */
.recharts-cartesian-axis-line,
.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line {
    stroke: #475569 !important; /* slate-600 */
    stroke-dasharray: 3 3;
}

/* Specific fixes for cash flow chart */
.recharts-area[data-key="income"] + .recharts-legend .recharts-legend-item-text {
    color: #10b981 !important; /* emerald-500 */
}

.recharts-area[data-key="expense"] + .recharts-legend .recharts-legend-item-text {
    color: #ef4444 !important; /* red-500 */
}

/* Fix reference lines if any */
.recharts-reference-line-line {
    stroke: #64748b !important; /* slate-500 */
    stroke-dasharray: 5 5;
}

/* Ensure all SVG text is visible */
.recharts-surface text {
    fill: #94a3b8 !important; /* slate-400 */
}

/* Special handling for percentage labels */
.recharts-text[text-anchor="middle"] {
    fill: #f8fafc !important; /* slate-50 for center labels */
    font-weight: 600 !important;
}

/* Fix any remaining black text */
.recharts-wrapper svg text {
    fill: #94a3b8 !important; /* slate-400 */
}

.recharts-wrapper svg .recharts-legend-item text {
    fill: #cbd5e1 !important; /* slate-300 */
}

/*--------------------------------------
  Customer Growth Chart Dots Fix
---------------------------------------*/

/* Fix line chart dots to be white/visible */
.recharts-line-dot {
    fill: #f8fafc !important; /* slate-50 - white dots */
    stroke: #3b82f6 !important; /* blue-500 - blue border */
    stroke-width: 2px !important;
    r: 4 !important; /* slightly larger for better visibility */
}

/* Active/hover state for dots */
.recharts-line-dot:hover,
.recharts-active-dot {
    fill: #ffffff !important; /* pure white */
    stroke: #2563eb !important; /* blue-600 - darker blue border */
    stroke-width: 3px !important;
    r: 5 !important; /* larger on hover */
}

/* Ensure the line itself is visible */
.recharts-line-curve {
    stroke: #3b82f6 !important; /* blue-500 */
    stroke-width: 2px !important;
}

/* Fix any other line chart elements */
.recharts-line .recharts-curve {
    stroke: #3b82f6 !important; /* blue-500 */
}

/* Make sure dots show on all line charts */
.recharts-wrapper .recharts-line-dots .recharts-dot {
    fill: #f8fafc !important; /* slate-50 */
    stroke: #3b82f6 !important; /* blue-500 */
    stroke-width: 2px !important;
}

/* Add these styles to the end of your existing src/app/globals.css file */

/*--------------------------------------
  Mobile Responsiveness Enhancements
---------------------------------------*/

/* Hide scrollbars for mobile menus */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Mobile-friendly touch targets */
@media (max-width: 768px) {
    .touch-target {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Increase tap targets on mobile */
    button, [role="button"], .btn-clean {
        min-height: 44px;
        padding: 12px 16px;
    }
    
    /* Better mobile form inputs */
    .input-clean {
        padding: 12px 16px;
        font-size: 16px; /* Prevents zoom on iOS */
    }
    
    /* Mobile-optimized cards */
    .card-clean {
        margin: 0 4px;
        border-radius: 12px;
    }
    
    .metric-clean {
        padding: 16px;
    }
    
    /* Mobile table improvements */
    .table-clean {
        font-size: 14px;
    }
    
    .table-row {
        min-height: 48px;
    }
    
    /* Mobile navigation improvements */
    .nav-clean {
        padding: 8px;
    }
}

/* Extra small screens */
@media (max-width: 480px) {
    /* Even smaller spacing on very small screens */
    .card-clean {
        margin: 0 2px;
        padding: 12px;
    }
    
    .metric-clean {
        padding: 12px;
    }
    
    /* Smaller text on tiny screens */
    .metric-value {
        font-size: 1.5rem;
    }
    
    /* Stack items vertically on tiny screens */
    .mobile-stack {
        flex-direction: column !important;
    }
}

/*--------------------------------------
  Chart Responsiveness
---------------------------------------*/

/* Make charts more readable on mobile */
@media (max-width: 768px) {
    .recharts-wrapper {
        font-size: 12px;
    }
    
    .recharts-cartesian-axis-tick-value {
        font-size: 10px !important;
    }
    
    .recharts-legend-item-text {
        font-size: 11px !important;
    }
    
    .recharts-tooltip-wrapper .recharts-default-tooltip {
        font-size: 12px;
        padding: 8px;
    }
    
    /* Hide some chart elements on very small screens */
    .recharts-cartesian-grid {
        display: none;
    }
}

/* Add these styles to the end of your existing src/app/globals.css file */

/*--------------------------------------
  Mobile Responsiveness Enhancements
---------------------------------------*/

/* Hide scrollbars for mobile menus */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Mobile-friendly touch targets */
@media (max-width: 768px) {
    .touch-target {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Increase tap targets on mobile */
    button, [role="button"], .btn-clean {
        min-height: 44px;
        padding: 12px 16px;
    }
    
    /* Better mobile form inputs */
    .input-clean {
        padding: 12px 16px;
        font-size: 16px; /* Prevents zoom on iOS */
    }
    
    /* Mobile-optimized cards */
    .card-clean {
        margin: 0 4px;
        border-radius: 12px;
    }
    
    .metric-clean {
        padding: 16px;
    }
    
    /* Mobile table improvements */
    .table-clean {
        font-size: 14px;
    }
    
    .table-row {
        min-height: 48px;
    }
    
    /* Mobile navigation improvements */
    .nav-clean {
        padding: 8px;
    }
}

/* Extra small screens */
@media (max-width: 480px) {
    /* Even smaller spacing on very small screens */
    .card-clean {
        margin: 0 2px;
        padding: 12px;
    }
    
    .metric-clean {
        padding: 12px;
    }
    
    /* Smaller text on tiny screens */
    .metric-value {
        font-size: 1.5rem;
    }
    
    /* Stack items vertically on tiny screens */
    .mobile-stack {
        flex-direction: column !important;
    }
}

/*--------------------------------------
  Chart Responsiveness
---------------------------------------*/

/* Make charts more readable on mobile */
@media (max-width: 768px) {
    .recharts-wrapper {
        font-size: 12px;
    }
    
    .recharts-cartesian-axis-tick-value {
        font-size: 10px !important;
    }
    
    .recharts-legend-item-text {
        font-size: 11px !important;
    }
    
    .recharts-tooltip-wrapper .recharts-default-tooltip {
        font-size: 12px;
        padding: 8px;
    }
    
    /* Hide some chart elements on very small screens */
    .recharts-cartesian-grid {
        display: none;
    }
}

/*--------------------------------------
  Mobile-Specific Component Styles
---------------------------------------*/

/* Mobile table wrapper */
.mobile-table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
}

.mobile-table-wrapper::-webkit-scrollbar {
    height: 4px;
}

.mobile-table-wrapper::-webkit-scrollbar-track {
    background: transparent;
}

.mobile-table-wrapper::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.5);
    border-radius: 2px;
}

/* Mobile-friendly modal positioning */
@media (max-width: 768px) {
    [data-radix-dialog-content] {
        position: fixed !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        width: calc(100vw - 32px) !important;
        max-width: none !important;
        max-height: calc(100vh - 64px) !important;
        margin: 0 !important;
    }
}

/* Mobile-friendly form layouts */
.mobile-form-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
}

@media (min-width: 640px) {
    .mobile-form-grid {
        grid-template-columns: 1fr 1fr;
        gap: 24px;
    }
}

/*--------------------------------------
  Mobile Performance Optimizations
---------------------------------------*/

/* Reduce animations on low-end devices */
@media (prefers-reduced-motion: reduce) {
    .transition-smooth,
    .fade-in {
        transition: none !important;
        animation: none !important;
        transform: none !important;
    }
    
    /* Remove hover effects for reduced motion */
    .card-clean:hover,
    .metric-clean:hover {
        box-shadow: none !important;
        transform: none !important;
    }
}

/* Optimize for touch devices */
@media (hover: none) and (pointer: coarse) {
    /* Touch device optimizations */
    .card-clean:hover {
        background-color: rgb(15 23 42); /* slate-900 */
    }
    
    .metric-clean:hover {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
}

/*--------------------------------------
  Mobile Safe Areas (for devices with notches)
---------------------------------------*/

/* Support for iPhone X+ safe areas */
@supports (padding: max(0px)) {
    .mobile-safe-top {
        padding-top: max(16px, env(safe-area-inset-top));
    }
    
    .mobile-safe-bottom {
        padding-bottom: max(16px, env(safe-area-inset-bottom));
    }
    
    .mobile-safe-left {
        padding-left: max(16px, env(safe-area-inset-left));
    }
    
    .mobile-safe-right {
        padding-right: max(16px, env(safe-area-inset-right));
    }
}

/*--------------------------------------
  Mobile Typography Improvements
---------------------------------------*/

/* Better mobile typography */
@media (max-width: 768px) {
    h1 { 
        font-size: 1.875rem; /* 30px */
        line-height: 1.2;
    }
    h2 { 
        font-size: 1.5rem; /* 24px */
        line-height: 1.25;
    }
    h3 { 
        font-size: 1.25rem; /* 20px */
        line-height: 1.3;
    }
    h4 { 
        font-size: 1.125rem; /* 18px */
        line-height: 1.35;
    }
    
    /* Improve readability on small screens */
    body {
        font-size: 14px;
        line-height: 1.5;
    }
}

/*--------------------------------------
  Mobile Loading States
---------------------------------------*/

/* Mobile-optimized loading animations */
.mobile-loading-skeleton {
    background: linear-gradient(90deg, 
        rgba(148, 163, 184, 0.1) 25%, 
        rgba(148, 163, 184, 0.2) 50%, 
        rgba(148, 163, 184, 0.1) 75%
    );
    background-size: 200% 100%;
    animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

/*--------------------------------------
  Mobile Button Improvements
---------------------------------------*/

/* Ensure buttons are touch-friendly on mobile */
@media (max-width: 768px) {
    button {
        min-height: 44px;
        min-width: 44px;
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
    }
    
    /* Improve button spacing on mobile */
    .flex.gap-2 {
        gap: 0.75rem;
    }
    
    .flex.gap-3 {
        gap: 1rem;
    }
}

/*--------------------------------------
  Mobile Table Enhancements
---------------------------------------*/

/* Better mobile table experience */
@media (max-width: 768px) {
    .overflow-x-auto {
        -webkit-overflow-scrolling: touch;
    }
    
    table {
        font-size: 0.875rem;
    }
    
    th, td {
        padding: 0.5rem;
        white-space: nowrap;
    }
    
    /* Hide less important columns on mobile */
    .mobile-hide {
        display: none;
    }
}

@media (min-width: 640px) {
    .mobile-hide {
        display: table-cell;
    }
}